"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5122],{3905:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return p}});var r=t(7294);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,s=function(e,n){if(null==e)return{};var t,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(s[t]=e[t]);return s}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var u=r.createContext({}),d=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},m=function(e){var n=d(e.components);return r.createElement(u.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},c=r.forwardRef((function(e,n){var t=e.components,s=e.mdxType,a=e.originalType,u=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=d(t),p=s,w=c["".concat(u,".").concat(p)]||c[p]||l[p]||a;return t?r.createElement(w,o(o({ref:n},m),{},{components:t})):r.createElement(w,o({ref:n},m))}));function p(e,n){var t=arguments,s=n&&n.mdxType;if("string"==typeof e||s){var a=t.length,o=new Array(a);o[0]=c;var i={};for(var u in n)hasOwnProperty.call(n,u)&&(i[u]=n[u]);i.originalType=e,i.mdxType="string"==typeof e?e:s,o[1]=i;for(var d=2;d<a;d++)o[d]=t[d];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}c.displayName="MDXCreateElement"},6203:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return i},contentTitle:function(){return u},metadata:function(){return d},toc:function(){return m},default:function(){return c}});var r=t(7462),s=t(3366),a=(t(7294),t(3905)),o=["components"],i={},u="Full Example",d={unversionedId:"CRUDStories/full-example",id:"CRUDStories/full-example",isDocsHomePage:!1,title:"Full Example",description:"Ok I think we have enough information to actually generate stories based on model and permissions. Let look at a full example.",source:"@site/docs/CRUDStories/full-example.md",sourceDirName:"CRUDStories",slug:"/CRUDStories/full-example",permalink:"/user-stories-as-code/docs/CRUDStories/full-example",editUrl:"https://github.com/mikerudge/user-stories-as-code/edit/main/website/docs/CRUDStories/full-example.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Create a Permission",permalink:"/user-stories-as-code/docs/CRUDStories/create-a-permission"},next:{title:"Formats",permalink:"/user-stories-as-code/docs/outputs/intro"}},m=[],l={toc:m};function c(e){var n=e.components,t=(0,s.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"full-example"},"Full Example"),(0,a.kt)("p",null,"Ok I think we have enough information to actually generate stories based on model and permissions. Let look at a full example."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"// Define the different user types in the project\nconst admin = new UserType({ name: 'Admin' });\nconst businessOwner = new UserType({ name: 'Business Owner' });\n\n// Define the different departments in the stories\nconst developers = new Department({ name: 'Developers' });\n\n// Create the different epics for the project\nconst authEpic = new Epic({ name: 'Auth', description: 'Everything to do with auth' }).addMilestone(\n  new Milestone({ name: 'Complete Auth', startDate: new Date(), endDate: new Date() }),\n);\n\n// Create a custom story\nconst firstUserStory = new UserStory()\n  .setAsA(admin)\n  .setIWant('to be able to create a new project')\n  .setSoThat('I can start working on it')\n  .addTask(new Task({ title: 'Create a new project' }))\n  .addTask(new Task({ title: 'Setup github repo' }))\n  .addEpic(authEpic)\n  .addDepartment(developers);\n\nconst james = new TeamMember({ name: 'James ' });\nfirstUserStory.addAssignee(james);\n\n// Models\nconst organisation = new Model({ name: 'Organisation' });\nconst userModel = new Model({ name: 'User' }).addPermission(new Permission({ userType: admin, actions: ['all'] }));\nconst authorModel = new Model({ name: 'Author' })\n  .addUserType(admin)\n  .addPermission(new Permission({ userType: admin, actions: ['read'], can: false }))\n  .addPermission(new Permission({ userType: businessOwner, actions: ['read'], belongsTo: 'owner' }));\nconst taskModel = new Model({ name: 'Task' }).addPermission(new Permission({ userType: admin, actions: ['all'] }));\nconst bookModel = new Model({ name: 'Book' });\n\n// An example of a task for a project\nconst projectTask = new Task({ title: 'Invite the team to the repo' }).addAssignee(james);\n\n// Create a new project that puts it all together\nconst project = new Project({ name: 'Awesome Sauce' })\n  .addStory(\n    new UserStory({ asA: admin, iWant: 'to be able to code a story', soICan: 'Easily create stories using code' }),\n  )\n  .addStory(firstUserStory)\n  .addMilestone(new Milestone({ name: 'First Milestone' }))\n  .addTask(projectTask);\n\nconst stories = new CRUDStories()\n  .addModel(organisation)\n  .addModel([userModel, authorModel, taskModel, bookModel])\n  .generate();\n\nproject.addStories(stories);\n\nconst finished = project.output();\n")),(0,a.kt)("p",null,"PHEW quite a bit of code but for all that work, we get an entire project structure that we can use tp automate setting up the project, and generating the user stories, which can then be used to automatically setup docs (Google sheets) and even setup the project in Jira."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "enfwtx6tnkvpuq97o",\n  "name": "Awesome Sauce",\n  "stories": [\n    {\n      "id": "enfwtx6tnkvpuq97p",\n      "summary": "As a Admin, I want to to be able to code a story, so I can Easily create stories using code",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97c",\n      "summary": "As a Admin, I want to to be able to create a new project, so I can I can start working on it",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97q",\n      "summary": "As a Admin, I want to Create Users, so I can create a new record",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97s",\n      "summary": "As a Admin, I want to List all Users, so I can easily navigate",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97t",\n      "summary": "As a Admin, I want to See a single User, so I can see more in depth information",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97u",\n      "summary": "As a Admin, I want to to be able to link others directly to User, so I can share links on other platforms",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97v",\n      "summary": "As a Admin, I want to update Users, so I can change information",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97w",\n      "summary": "As a Admin, I want to delete Users, so I can remove unwanted Users",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97x",\n      "summary": "As a Admin, I want to List all Authors, so I can easily navigate",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97y",\n      "summary": "As a Admin, I want to See a single Author, so I can see more in depth information",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq97z",\n      "summary": "As a Admin, I want to to be able to link others directly to Author, so I can share links on other platforms",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq981",\n      "summary": "As a Business Owner, I want to to be able to view Authors that belong to me, so I can view all records",\n      "userType": "Business Owner"\n    },\n    {\n      "id": "enfwtx6tnkvpuq982",\n      "summary": "As a Business Owner, I want to See a single Author if I am the owner, so I can see more in depth information",\n      "userType": "Business Owner"\n    },\n    {\n      "id": "enfwtx6tnkvpuq983",\n      "summary": "As a Business Owner, I want to See a permission denied message for Author if I am not owner, so I can know I dont have access",\n      "userType": "Business Owner"\n    },\n    {\n      "id": "enfwtx6tnkvpuq984",\n      "summary": "As a Business Owner, I want to to be able to link others directly to Author, so I can share links on other platforms",\n      "userType": "Business Owner"\n    },\n    {\n      "id": "enfwtx6tnkvpuq985",\n      "summary": "As a Admin, I want to Create Tasks, so I can create a new record",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq987",\n      "summary": "As a Admin, I want to List all Tasks, so I can easily navigate",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq988",\n      "summary": "As a Admin, I want to See a single Task, so I can see more in depth information",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq989",\n      "summary": "As a Admin, I want to to be able to link others directly to Task, so I can share links on other platforms",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq98a",\n      "summary": "As a Admin, I want to update Tasks, so I can change information",\n      "userType": "Admin"\n    },\n    {\n      "id": "enfwtx6tnkvpuq98b",\n      "summary": "As a Admin, I want to delete Tasks, so I can remove unwanted Tasks",\n      "userType": "Admin"\n    }\n  ]\n}\n')))}c.isMDXComponent=!0}}]);